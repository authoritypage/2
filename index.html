<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Trauma Registry Dashboard | Incident Analytics</title>
    <meta name="description" content="A dashboard for analyzing and understanding patterns in incident data, providing clear visualization and filtering capabilities.">
    <meta name="keywords" content="data, analytics, incidents, trauma, registry, dashboard, HTML, CSS, JavaScript, interactive table, data visualization">
    <meta name="author" content="Your Name/Organization">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourusername.github.io/trauma-registry-dashboard/">
    <meta property="og:title" content="Trauma Registry Dashboard | Incident Analytics">
    <meta property="og:description" content="A dashboard for analyzing and understanding patterns in incident data.">
    <meta property="og:image" content="https://yourusername.github.io/trauma-registry-dashboard/assets/images/og-image-trauma.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yourusername.github.io/trauma-registry-dashboard/">
    <meta property="twitter:title" content="Trauma Registry Dashboard | Incident Analytics">
    <meta property="twitter:description" content="A dashboard for analyzing and understanding patterns in incident data.">
    <meta property="twitter:image" content="https://yourusername.github.io/trauma-registry-dashboard/assets/images/twitter-image-trauma.png">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico"> <!-- Using a conceptual icon, might need to be .png/.ico -->

    <!-- Google Fonts: Inter for overall legibility, suited for data display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="app-header">
        <div class="container">
            <h1>Incident Analytics Dashboard</h1>
        </div>
    </header>

    <main class="container main-content-area">
        <section class="filters-summary-section">
            <div class="filter-controls">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Search by name, charter, or keyword..." aria-label="Search incident data">
                    <button id="clearSearch" class="icon-button" aria-label="Clear search">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                    </button>
                </div>
                <div class="filter-group">
                    <label for="stateFilter" class="sr-only">Filter by State</label>
                    <select id="stateFilter">
                        <option value="">All States</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="charterFilter" class="sr-only">Filter by Fraternity</label>
                    <select id="charterFilter">
                        <option value="">All Fraternities</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="yearFilter" class="sr-only">Filter by Year</label>
                    <select id="yearFilter">
                        <option value="">All Years</option>
                    </select>
                </div>
            </div>

            <div class="summary-section">
                <div class="summary-card total-incidents">
                    <p class="summary-number" id="totalIncidentsCount">--</p>
                    <p class="summary-label">Total Incidents</p>
                </div>
                <div class="summary-card unique-states">
                    <p class="summary-number" id="uniqueStatesCount">--</p>
                    <p class="summary-label">States Involved</p>
                </div>
                <div class="summary-card unique-charters">
                    <p class="summary-number" id="uniqueChartersCount">--</p>
                    <p class="summary-label">Fraternities Involved</p>
                </div>
            </div>

            <div class="cause-breakdown-chart">
                <h2>Incident Causes Breakdown</h2>
                <div class="chart-canvas" id="causeChart">
                    <!-- SVG bar chart will be drawn here by JS -->
                    <svg viewBox="0 0 500 250" preserveAspectRatio="xMidYMid meet"></svg>
                </div>
            </div>

        </section>

        <section class="data-table-section">
            <h2>Incident Details</h2>
            <div class="table-container">
                <table class="data-table" id="incidentTable">
                    <thead>
                        <tr>
                            <th data-column="CHARTER">Fraternity <span class="sort-indicator"></span></th>
                            <th data-column="NAME">Victim <span class="sort-indicator"></span></th>
                            <th data-column="DOD">Year <span class="sort-indicator"></span></th>
                            <th data-column="STATE">State <span class="sort-indicator"></span></th>
                            <th data-column="INSTITUTION">Institution <span class="sort-indicator"></span></th>
                            <th data-column="KNOWN_CAUSE">Cause <span class="sort-indicator"></span></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data rows will be dynamically inserted here by JavaScript -->
                    </tbody>
                </table>
                <div id="noResultsMessage" class="no-results-message" style="display: none;">
                    No incidents found matching your criteria.
                </div>
            </div>
        </section>
    </main>

    <footer class="app-footer">
        <div class="container">
            <p>Â© <span id="currentYear"></span> Trauma Registry. All rights reserved.</p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
